# Repos
```
[ec2-user@ip-10-0-1-4 ~]$ ls /etc/yum.repos.d
cloudera-manager.repo  epel-testing.repo     mysql-community-source.repo  redhat-rhui-client-config.repo  rhui-load-balancers.conf
epel.repo              mysql-community.repo  redhat.repo                  redhat-rhui.repo
```

# Prepare databases

```
[ec2-user@ip-10-0-1-4 ~]$ sudo /usr/share/cmf/schema/scm_prepare_database.sh -h bc7 mysql scm cloudera-scm
Enter SCM password:
JAVA_HOME=/usr/java/jdk1.8.0_111
Verifying that we can write to /etc/cloudera-scm-server
Creating SCM configuration file in /etc/cloudera-scm-server
Executing:  /usr/java/jdk1.8.0_111/bin/java -cp /usr/share/java/mysql-connector-java.jar:/usr/share/java/oracle-connector-java.jar:/usr/share/cmf/schema/../lib/* com.cloudera.enterprise.dbutil.DbCommandExecutor /etc/cloudera-scm-server/db.properties com.cloudera.cmf.db.
[                          main] DbCommandExecutor              INFO  Successfully connected to database.
All done, your SCM database is configured correctly!
```

# First server log line
```
2017-01-27 09:46:11,024 INFO main:com.cloudera.server.cmf.Main: Starting SCM Server. JVM Args: [-Dlog4j.configuration=file:/etc/cloudera-scm-server/log4j.properties, -Dfile.encoding=UTF-8, -Dcmf.root.logger=INFO,LOGFILE, -Dcmf.log.dir=/var/log/cloudera-scm-server, -Dcmf.log.file=cloudera-scm-server.log, -Dcmf.jetty.threshhold=WARN, -Dcmf.schema.dir=/usr/share/cmf/schema, -Djava.awt.headless=true, -Djava.net.preferIPv4Stack=true, -Dpython.home=/usr/share/cmf/python, -XX:+UseConcMarkSweepGC, -XX:+UseParNewGC, -XX:+HeapDumpOnOutOfMemoryError, -Xmx2G, -XX:MaxPermSize=256m, -XX:+HeapDumpOnOutOfMemoryError, -XX:HeapDumpPath=/tmp, -XX:OnOutOfMemoryError=kill -9 %p], Args: [], Version: 5.9.1 (#8 built by jenkins on 20170112-1158 git: a66d8bbdbe8bc3ee54235e55423f2f76c7d9f3b1)
```

# Jetty Server log line
```
2017-01-27 09:47:13,868 INFO WebServerImpl:com.cloudera.server.cmf.WebServerImpl: Started Jetty server.
```

# `db.properties` file
```[ec2-user@ip-10-0-0-4 ~]$ sudo cat /etc/cloudera-scm-server/db.properties
# Auto-generated by scm_prepare_database.sh on Fri Jan 27 09:45:49 EST 2017
#
# For information describing how to configure the Cloudera Manager Server
# to connect to databases, see the "Cloudera Manager Installation Guide."
#
com.cloudera.cmf.db.type=mysql
com.cloudera.cmf.db.host=10.0.1.6
com.cloudera.cmf.db.name=scm
com.cloudera.cmf.db.user=cloudera-scm
com.cloudera.cmf.db.password=cloudera-scm
com.cloudera.cmf.db.setupType=EXTERNAL
```